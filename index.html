<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wikipedia Loop Game</title>
    <link rel="stylesheet" href="./src/styles/main.css">
</head>
<body>
    <div class="sidebar">
        <h2>Wikipedia Loop Game</h2>
        
        <div class="button-container">
            <button id="new-game-btn" class="game-btn">New Game</button>
            <button id="reset-level-btn" class="game-btn">Reset Level</button>
            <button id="help-btn" class="game-btn help-btn">Help</button>
        </div>
        
        <div class="score-box">
            <div class="global-score">
                <span class="label">Total Score</span>
                <span class="colon">:</span>
                <span class="value" id="global-score">0</span>
            </div>
            <div class="level-score">
                <span class="label">Level Score</span>
                <span class="colon">:</span>
                <span class="value" id="level-score">100</span>
            </div>
        </div>
        
        <div class="level-box">
            <div class="level-display">
                <span class="label">Level</span>
                <span class="colon">:</span>
                <span class="value" id="current-level">1</span>
            </div>
            <div class="steps-display">
                <span class="label">Steps</span>
                <span class="colon">:</span>
                <span class="value" id="steps-taken">0</span>
            </div>
        </div>
        
        <div class="target-box">
            <div class="target-steps">
                <span class="label">Target</span>
                <span class="colon">:</span>
                <span class="value" id="target-steps">2</span>
                <span class="unit">steps</span>
            </div>
            <div class="target-article">
                <span class="label">Return to</span>
                <span class="colon">:</span>
                <span class="value" id="target-article">-</span>
            </div>
        </div>
        
        <h3>Navigation Path</h3>
        <ul id="navigation-path" class="navigation-path">
            <!-- Navigation steps will be added here -->
        </ul>
        
        <div id="game-result" class="game-result hidden">
            <!-- Game result messages will appear here -->
        </div>
    </div>
    
    <div class="main-content">
        <div class="wiki-container">
            <div id="wiki-content" class="loading">Loading Wikipedia...</div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" id="close-modal">&times;</span>
                <h2>Game Instructions</h2>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>OBJECTIVE</h3>
                    <p>Create loops by navigating through Wikipedia articles and returning to your starting article in exactly the target number of steps!</p>
                </div>
                
                <div class="help-section example">
                    <h3>HOW TO PLAY</h3>
                    <p><span class="pixel-arrow">></span> Level 1: Start at Article A <span class="pixel-arrow">></span> Go to Article B <span class="pixel-arrow">></span> Return to Article A (2 steps)</p>
                    <p><span class="pixel-arrow">></span> Level 2: A <span class="pixel-arrow">></span> B <span class="pixel-arrow">></span> C <span class="pixel-arrow">></span> D <span class="pixel-arrow">></span> A (4 steps)</p>
                    <p><span class="pixel-arrow">></span> Level N: Complete loop in exactly NÃ—2 steps</p>
                    <ul>
                        <li>Click on blue Wikipedia links to navigate</li>
                        <li>External links are disabled (grayed out)</li>
                        <li>Must return to starting article in exact steps</li>
                    </ul>
                </div>
                
                <div class="help-section scoring">
                    <h3>SCORING SYSTEM</h3>
                    <p><span class="pixel-arrow">></span> Each level starts with 100 points</p>
                    <p><span class="pixel-arrow">></span> Perfect completion: Earn all points!</p>
                    <p><span class="pixel-arrow">></span> Going back: -10 points per step backward</p>
                    <p><span class="pixel-arrow">></span> Too many steps: No points (try again!)</p>
                    <p><span class="pixel-arrow">></span> Global score accumulates across levels</p>
                </div>
                
                <div class="help-section tips">
                    <h3>PRO TIPS</h3>
                    <ul>
                        <li>Check infoboxes (side panels) for related articles</li>
                        <li>Look for "See also" sections at article bottom</li>
                        <li>Geography/History articles have many connections</li>
                        <li>Countries link to capitals, continents, languages</li>
                        <li>People articles link to birth places, professions</li>
                        <li>Science topics connect through broader categories</li>
                        <li>Plan your route before clicking!</li>
                        <li>Popular articles = more incoming links</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h3>CONTROLS</h3>
                    <p><span class="pixel-arrow">></span> New Game: Start over from Level 1</p>
                    <p><span class="pixel-arrow">></span> Reset Level: Retry current level</p>
                    <p><span class="pixel-arrow">></span> Help: Show these instructions</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Level Completion Modal -->
    <div id="completion-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="completion-title">Level Complete!</h2>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <p id="completion-message">Congratulations! You completed the level!</p>
                    <div id="completion-details" class="completion-details">
                        <p id="score-details">Score details will appear here</p>
                        <p id="next-level-info">Proceeding to next level...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="./src/js/main.js"></script>
</body>
</html>